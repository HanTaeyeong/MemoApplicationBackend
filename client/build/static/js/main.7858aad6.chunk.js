(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{113:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i=n(10),s=n.n(i),u=n(18),l=n(0),b=n.n(l),d=n(31),j=n.n(d),p=(n(113),n(8)),h=n(97),O=n(2),f=n(11),m=n(3),g=n(13),x=Object(g.a)(),v=n(7),w=n(4),y={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},E=n(1),T=w.b.button(r||(r=Object(m.a)(["\n    position:relative;\n\n    border:none;\n    border-radius: 5rem;\n    font-size: 1.25rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    box-shadow: 0.25rem 0.25rem 0.5rem 0.2rem rgba(0, 0, 0, 0.1);\n    background: ",";\n    &:hover{\n        background: ",";\n    }\n\n    ","\n    \n    ","\n    \n        &.loading{\n            background:",';\n            cursor:not-allowed;\n            .text{\n            visibility:hidden;\n        }\n\n        &::after{\n            content:"";\n            position:absolute;\n            width:1.25rem;\n            height:1.25rem;\n            border:0.25rem solid transparent;\n            border-top-color:',";\n            border-radius:50%;\n            /* top:50%;\n            left:50%;\n            transform:translate(-50%,-50%);\n             */\n             top:0;\n             left:0;\n             bottom:0;\n             right:0;\n             margin:auto;\n            animation:button-loading-spinner 1s ease infinite;\n        }\n        }\n        \n        @keyframes button-loading-spinner{\n            from{\n                transform:rotate(0turn);\n            }\n            to{\n                transform:rotate(1turn);\n            }\n        }\n"])),y.gray[8],y.gray[6],(function(e){return e.fullWidth&&Object(w.a)(a||(a=Object(m.a)(["\n    padding-top:0.75rem;\n    padding-bottom:0.75rem;\n    width:100%;\n    font-size:1.33rem;\n    "])))}),(function(e){return e.cyan&&Object(w.a)(o||(o=Object(m.a)(["\n        background:",";\n        &:hover{\n            background:","\n        }\n    "])),y.cyan[5],y.cyan[4])}),y.cyan[1],y.cyan[5]),C=function(e){var t=e.children,n=e.cyan,r=e.fullWidth,a=e.onClickFunction,o=Object(v.c)((function(e){var t=e.loading;return Object(O.a)({},t)})),c=o["auth/LOGIN"]||o["auth/REGISTER"]||o["write/UPDATE_POST"]||o["write/WRITE_POST"];return Object(E.jsx)(T,{cyan:n,fullWidth:r,onClick:function(){return a?a():function(){}},className:c?"loading":"",children:Object(E.jsx)("span",{className:"text",children:t})})},S=n(5),k=n(9),I="loading/START_LOADING",P="loading/FINISH_LOADING",_=Object(k.createAction)(I,(function(e){return e}))(),A=Object(k.createAction)(P,(function(e){return e}))(),R=Object(k.createReducer)({"auth/LOGIN":!1,"auth/REGISTER":!1,"auth/LOGOUT":!1,"auth/CHECK":!1,"write/CHANGE_WRITING_FIELD":!1,"write/WRITE_POST":!1,"write/GET_POST_LIST":!1,"write/UPDATE_POST":!1,"write/DELETE_POST":!1},(c={},Object(S.a)(c,I,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(S.a)({},t.payload,!0))})),Object(S.a)(c,P,(function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(S.a)({},t.payload,!1))})),c));function N(e,t){var n="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return function(a){return function(){var o=Object(u.a)(s.a.mark((function o(c){var i;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c({type:e}),c(_(e)),o.prev=2,o.next=5,t(a);case 5:i=o.sent,c({type:n,payload:i.data}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),c({type:r,payload:{error:o.t0.toJSON()}});case 12:return o.prev=12,c(A(e)),o.finish(12);case 15:case"end":return o.stop()}}),o,null,[[2,9,12,15]])})));return function(e){return o.apply(this,arguments)}}()}}var L,z,D=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]},G=n(102),W=n.n(G).a.create(),U="/api/auth",F=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.next=3,W.post(U+"/login",{username:n,password:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.post(U+"/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.next=3,W.post(U+"/register",{username:n,password:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get(U+"/check");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V={200:"okay",409:"[ID] Already existing ID",440:"Username or Password is empty.",441:"[ID] There is no such user.",442:"[PW] Invailid password.",500:"[SV] Internal server error.",450:"okay",451:""},B="auth/CHANGE_AUTH_TYPE",K="auth/CHANGE_FIELD",M="auth/INITIALIZE_FORM",$="auth/TEMP_SET_USER",Z=D("auth/REGISTER"),Y=Object(f.a)(Z,3),Q=Y[0],X=Y[1],ee=Y[2],te=D("auth/LOGIN"),ne=Object(f.a)(te,3),re=ne[0],ae=ne[1],oe=ne[2],ce=D("auth/LOGOUT"),ie=Object(f.a)(ce,3),se=ie[0],ue=ie[1],le=ie[2],be=D("auth/CHECK"),de=Object(f.a)(be,3),je=de[0],pe=de[1],he=de[2],Oe=(Object(k.createAction)(B,(function(e){return{authType:e.authType}}))(),Object(k.createAction)(K,(function(e){return{authType:e.authType,username:e.username,password:e.password,passwordConfirm:e.passwordConfirm,authError:e.authError}}))()),fe=Object(k.createAction)(M,(function(e){return e}))(),me=(Object(k.createAction)($,(function(e){return e}))(),Object(k.createAction)(Q,(function(e){return{username:e.username,password:e.password}})),N(Q,q)),ge=(Object(k.createAction)(re,(function(e){return{username:e.username,password:e.password}})),N(re,F)),xe=(Object(k.createAction)(se,(function(e){return{username:e.username}})),N(se,H)),ve=(Object(k.createAction)(je,(function(e){return{username:e.username}})),N(je,J));!function(e){e.login="login",e.register="register"}(z||(z={}));var we,ye,Ee,Te,Ce,Se,ke,Ie,Pe,_e,Ae,Re,Ne,Le,ze,De,Ge,We,Ue,Fe,He,qe,Je,Ve,Be={authType:z.register,username:"",password:"",passwordConfirm:"",authorized:!1,authError:null,checkError:null},Ke=Object(k.createReducer)(Be,(L={},Object(S.a)(L,$,(function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{username:n})})),Object(S.a)(L,B,(function(e,t){var n=t.payload.authType;return Object(O.a)(Object(O.a)({},e),{},{authType:n})})),Object(S.a)(L,K,(function(e,t){var n=t.payload,r=n.authType,a=n.username,o=n.password,c=n.passwordConfirm,i=n.authError;return Object(O.a)(Object(O.a)({},e),{},{authType:r,username:a,password:o,passwordConfirm:c,authError:i})})),Object(S.a)(L,M,(function(e,t){t.payload.authType;return Object(O.a)({},Be)})),Object(S.a)(L,X,(function(e,t){t.payload.auth;return Object(O.a)(Object(O.a)({},e),{},{authorized:!0,authError:!1})})),Object(S.a)(L,ee,(function(e,t){var n=t.payload.error;return Object(O.a)(Object(O.a)({},e),{},{authorized:!1,authError:V[+n.message.slice(-3)]})})),Object(S.a)(L,ae,(function(e,t){var n=t.payload;n.username,n.password;return Object(O.a)(Object(O.a)({},e),{},{authorized:!0,authError:!1})})),Object(S.a)(L,oe,(function(e,t){var n=t.payload.error;return Object(O.a)(Object(O.a)({},e),{},{authorized:!1,authError:V[+n.message.slice(-3)]})})),Object(S.a)(L,pe,(function(e,t){t.payload;return Object(O.a)(Object(O.a)({},e),{},{authorized:!0,checkError:!1})})),Object(S.a)(L,he,(function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{authorized:!1,checkError:n})})),Object(S.a)(L,ue,(function(e,t){t.payload;return Object(O.a)({},Be)})),Object(S.a)(L,le,(function(e,t){t.payload;return Object(O.a)({},Be)})),L)),Me=function(e,t){try{return localStorage.setItem(e,t)}catch(n){console.log(n)}},$e=function(e){try{return localStorage.removeItem(e)}catch(t){console.log(t)}},Ze=w.b.div(we||(we=Object(m.a)(["\n    width:100%;\n    height:4rem;\n    \n    display:flex;\n    align-items:center;\n    \n    background:white;\n    box-shadow:0px 2px 4px rgba(0,0,0,0.08);\n    margin-bottom:1rem;\n\n    justify-content:space-between;\n\n    .logo{\n        font-size:1.125rem;\n        font-weight:800;\n        letter-spacing:2px;\n    }\n    .right{\n      \n    }\n"]))),Ye=function(){var e=Object(v.c)((function(e){var t=e.auth,n=e.loading;return{username:t.username,authorized:t.authorized,loading:Object(O.a)({},n)}})),t=e.authorized,n=e.username,r=Object(v.b)(),a=Object(p.e)();return Object(l.useEffect)((function(){t||n||a.push("/login",{from:"PostListPage"})}),[t,n]),Object(E.jsxs)(Ze,{children:[Object(E.jsx)("span",{className:"logo",children:"Simple Memo"}),Object(E.jsx)(C,{cyan:!1,fullWidth:!1,onClickFunction:function(e){r(fe),$e("username"),r(xe(""))},children:"Logout"})]})},Qe=w.b.div(ye||(ye=Object(m.a)(["\n\nmargin-top:0.5rem;\nborder-bottom:1px solid ",";\ncursor:pointer;\n"])),y.gray[2]),Xe=w.b.div(Ee||(Ee=Object(m.a)(["\ndisplay:flex;\n\nflex-direction:row;\njustify-content:space-between;\n    \n    .title{    \n        font-size:1.125rem;\n        font-weight:700;\n        margin-bottom:0.5rem;\n    }\n"]))),et=w.b.span(Te||(Te=Object(m.a)(["\n    color:",";\n   \n    height:1.5rem;\n    span+span:before{\n        color:",";\n        padding-left:0.25rem;\n        padding-right:0.25rem;\n        content:'\\B7';\n    }\n"],["\n    color:",";\n   \n    height:1.5rem;\n    span+span:before{\n        color:",";\n        padding-left:0.25rem;\n        padding-right:0.25rem;\n        content:'\\\\B7';\n    }\n"])),y.gray[6],y.gray[5]),tt=w.b.div(Ce||(Ce=Object(m.a)(["\n    font-size:0.77rem;\n    color:",";\n    margin-bottom:2rem;\n    \n    "])),y.gray[8]),nt=function(e){var t=e._id,n=e.title,r=e.contents,a=e.lastUpdated,o=e.onClickItem,c={_id:t,title:n,contents:r};return Object(E.jsxs)(Qe,{id:JSON.stringify(c),title:n,onClick:function(e){return o?o(e):{}},children:[Object(E.jsxs)(Xe,{children:[Object(E.jsx)("span",{className:"title",children:n}),Object(E.jsxs)(et,{children:[Object(E.jsx)("span",{children:Object(E.jsx)("b",{children:"Last update"})}),Object(E.jsx)("span",{children:a.slice(0,10)})]})]}),Object(E.jsx)(tt,{children:r})]})},rt=w.b.div(Se||(Se=Object(m.a)(['\n    position:fixed;\n    margin:auto;\n    visibility:hidden;\n    top:0;\n    left:0;\n    bottom:0;\n    right:0;\n    margin:auto;\n    width:0;\n    height:0;\n    background:black;\n\n    &.loading{\n        visibility:visible;\n    }\n    &::after{\n            content:"";\n            position:absolute;\n            width:5rem;\n            height:5rem;\n            border:0.5rem solid transparent;\n            border-top-color:',";\n            border-radius:50%;\n            /* top:50%;\n            left:50%;\n            transform:translate(-50%,-50%);\n             */\n             top:0;\n             left:0;\n             bottom:0;\n             right:0;\n             margin:auto;\n            animation:button-loading-spinner 1s ease infinite;\n        }\n        \n        @keyframes button-loading-spinner{\n            from{\n                transform:rotate(0turn);\n            }\n            to{\n                transform:rotate(1turn);\n            }\n        }\n"])),y.cyan[5]),at="/api/post",ot=function(e){var t=e.page,n=e.limit;return W.get("".concat(at,"/get?page=").concat(t,"&limit=").concat(n))},ct="write/CHANGE_WRITING_FIELD",it=D("write/WRITE_POST"),st=Object(f.a)(it,3),ut=st[0],lt=st[1],bt=st[2],dt=D("write/UPDATE_POST"),jt=Object(f.a)(dt,3),pt=jt[0],ht=jt[1],Ot=jt[2],ft=Object(k.createAction)(ct,(function(e){return{_id:e._id,title:e.title,contents:e.contents,tags:e.tags}}))(),mt=(Object(k.createAction)(ut,(function(e){return{title:e.title,contents:e.contents,tags:e.tags}})),N(ut,(function(e){var t=e.title,n=e.contents,r=e.tags;return W.post("/api/post/write",{title:t,contents:n,tags:r})}))),gt=(Object(k.createAction)(pt,(function(e){return{_id:e._id,title:e.title,contents:e.contents}})),N(pt,(function(e){var t=e._id,n=e.title,r=e.contents,a=e.tags;return W.patch("".concat(at,"/update/").concat(t),{title:n,contents:r,tags:a})}))),xt=Object(k.createReducer)({_id:"",title:"",contents:"",tags:[],username:"",postError:!1},(ke={},Object(S.a)(ke,ct,(function(e,t){var n=t.payload,r=n._id,a=n.title,o=n.contents,c=n.tags;return Object(O.a)(Object(O.a)({},e),{},{_id:r,title:a,contents:o,tags:c})})),Object(S.a)(ke,lt,(function(e){return Object(O.a)(Object(O.a)({},e),{},{postError:!1})})),Object(S.a)(ke,bt,(function(e){return Object(O.a)(Object(O.a)({},e),{},{postError:!0})})),Object(S.a)(ke,ht,(function(e){return Object(O.a)(Object(O.a)({},e),{},{postError:!1})})),Object(S.a)(ke,Ot,(function(e){return Object(O.a)(Object(O.a)({},e),{},{postError:!0})})),ke)),vt=w.b.div(Ie||(Ie=Object(m.a)(["\n    width:100%;\n    height:100%;\n"]))),wt=w.b.button(Pe||(Pe=Object(m.a)(["\n    border:none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n\n    background: ",";\n    &:hover{\n        background: ",";\n    }\n\n    &:disabled, \n    &.loading\n    {\n        background:",";\n        color:",";\n        cursor:not-allowed;\n    }\n"])),y.gray[8],y.gray[6],y.gray[3],y.gray[4]),yt=w.b.button(_e||(_e=Object(m.a)(["\n    position:fixed;\n    width:3rem;\n    height:3rem;\n    font-size:3rem;\n    right:3rem;\n    bottom:3rem;\n    border-radius:100%;\n    \n    display:flex;\n    align-items:center;\n    justify-content:center;\n\n    background:",";\n    color:white;    \n    &:hover{\n        background:","\n    }\n"])),y.cyan[5],y.cyan[4]),Et=w.b.div(Ae||(Ae=Object(m.a)(["\n    display:flex;\n    justify-content:space-between;\n    margin-bottom:1rem;\n"]))),Tt=w.b.div(Re||(Re=Object(m.a)(["\n    select{\n        margin-right:0.33rem;\n    }\n"]))),Ct=w.b.div(Ne||(Ne=Object(m.a)(["\n    button{\n        margin-right:0.33rem;\n    }\n"]))),St=(w.b.div(Le||(Le=Object(m.a)(["\n    display: flex;\n    justify-content:flex-end;\n    margin-bottom:1rem;\n"]))),function(){var e=Object(v.b)(),t=(Object(v.c)((function(e){return e.loading})),Object(v.c)((function(e){return e.write}))),n=Object(l.useState)([]),r=Object(f.a)(n,2),a=r[0],o=r[1],c=Object(l.useState)({page:1,limit:10,lastPage:1,totalPostCount:0}),i=Object(f.a)(c,2),b=i[0],d=i[1],j=Object(l.useState)(!1),p=Object(f.a)(j,2),m=p[0],g=p[1];function w(){return(w=Object(u.a)(s.a.mark((function e(){var t,n,r,a,c,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.page,n=b.limit,g(!0),e.next=4,ot({page:t,limit:n});case 4:r=e.sent,a=[],d(Object(O.a)(Object(O.a)({},b),{},{lastPage:+r.headers["last-page"],totalPostCount:+r.headers["total-post-count"]})),c=Object(h.a)(r.data);try{for(c.s();!(i=c.n()).done;)u=i.value,a.push(Object(O.a)({},u._doc))}catch(s){c.e(s)}finally{c.f()}o(a),g(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){e.preventDefault();var t=b.page+ +e.currentTarget.name;t<1&&(t=1),t>b.lastPage&&(t=b.lastPage),d(Object(O.a)(Object(O.a)({},b),{},{page:t}))},T=function(n){n.preventDefault();var r=JSON.parse(n.currentTarget.id),a=r._id,o=r.title,c=r.contents;e(ft(Object(O.a)(Object(O.a)({},t),{},{_id:a,title:o,contents:c}))),x.push("/write")};Object(l.useEffect)((function(){m||function(){w.apply(this,arguments)}()}),[b.page,b.limit]);return Object(E.jsxs)(vt,{children:[Object(E.jsx)(Ye,{}),Object(E.jsxs)(Et,{children:[Object(E.jsxs)(Tt,{children:[Object(E.jsxs)("select",{name:"limits",onChange:function(e){e.preventDefault();b.page,b.limit;var t=b.totalPostCount,n=(b.lastPage,+e.target.value),r=1+(t/n|0);d(Object(O.a)(Object(O.a)({},b),{},{page:1,limit:n,lastPage:r}))},children:[Object(E.jsx)("option",{value:"10",children:"10"}),Object(E.jsx)("option",{value:"20",children:"20"}),Object(E.jsx)("option",{value:"50",children:"50"}),Object(E.jsx)("option",{value:"100",children:"100"})]}),Object(E.jsxs)("span",{children:[b.totalPostCount," total posts"]})]}),Object(E.jsxs)(Ct,{children:[Object(E.jsx)(wt,{onClick:y,name:"-1",disabled:1===b.page,className:m?"loading":"",children:"before"}),Object(E.jsx)(wt,{onClick:y,name:"1",disabled:b.page===b.lastPage,className:m?"loading":"",children:"next"}),Object(E.jsxs)("span",{children:[b.page,"/",b.lastPage," page"]})]})]}),Object(E.jsx)(rt,{className:m?"loading":""}),a.length?a.map((function(e){return Object(E.jsx)(nt,{_id:e._id,title:e.title,contents:e.contents,lastUpdated:e.updatedAt,onClickItem:T},e._id)})):Object(E.jsx)("div",{children:"Write a new memo..."}),Object(E.jsx)(yt,{onClick:function(){e(ft({_id:"",title:"",contents:"",tags:[]})),x.push("/write")},children:"+"})]})}),kt=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(St,{})})},It=w.b.div(ze||(ze=Object(m.a)(["\n    position:absolute;\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n    align-items:center;\n    padding-left:1.5rem;\n    padding-right:1.5rem;\n"]))),Pt=w.b.div(De||(De=Object(m.a)(["\n    .logo-area{\n        display:block;\n        text-align:center;\n        font-weight:bold;\n        letter-spacing:2px;\n    }\n    font-size:2rem;\n    box-shadow: 0 0 8px rgba(0,0,0,0.025);\n    padding: 2rem;\n    width:360px;\n    border-radius:2px;\n"]))),_t=function(e){var t=e.children;return Object(E.jsxs)(It,{children:[Object(E.jsx)(Pt,{children:Object(E.jsx)("div",{className:"logo-area",children:"Simple Memo"})}),t]})},At=n(26),Rt=w.b.div(Ge||(Ge=Object(m.a)(["\n    h3{\n        margin-left:1rem;\n        margin-bottom:1rem;\n        color:",";\n    }\n"])),y.gray[8]),Nt=w.b.input(We||(We=Object(m.a)(["\n    font-size:1rem;\n    border:1px solid ",";\n    border-radius:50px;\n\n    padding:0.5rem;\n    padding-left:1rem;\n    outline:none;\n    width:100%;\n    margin-bottom: 1rem;\n   \n    :focus{\n        color:$oc-teal-7;\n        border:1px solid ",";\n        &.error{\n        border:1px solid red;\n        }\n    }\n"])),y.gray[5],y.cyan[5]),Lt=w.b.div(Ue||(Ue=Object(m.a)(["\nwidth:100%;\n    margin:0 auto;\n    color:red;\ntext-align:center;\nmargin-bottom:1rem;\n"]))),zt=w.b.div(Fe||(Fe=Object(m.a)(["\n    margin-top:2rem;\n    text-align:right;\n    a{\n        color:",";\n        text-decoration:underline;\n        &:hover{\n            color:","\n        }\n    }\n"])),y.gray[6],y.gray[9]),Dt=Object(w.b)(C)(He||(He=Object(m.a)(["\n    margin-top:1rem;\n"]))),Gt={login:"Login",register:"Register"},Wt=function(e){var t=e.authType,n=e.onChange,r=e.onSubmit,a=Gt[t],o=Object(v.c)((function(e){return e.auth})),c=Object(v.b)(),i=Object(l.useRef)(null),s=Object(l.useRef)(null);return Object(l.useEffect)((function(){c(Oe({authError:""}))}),[]),Object(l.useEffect)((function(){if(o.authError&&"[ID]"===o.authError.slice(0,4)){var e=i.current;null===e||void 0===e||e.focus()}else if(o.authError&&"[PW]"===o.authError.slice(0,4)){var t=s.current;null===t||void 0===t||t.focus()}}),[o.authError]),Object(E.jsxs)(Rt,{children:[Object(E.jsx)("h3",{children:a}),Object(E.jsxs)("form",{onSubmit:function(e){return r(e)},children:[Object(E.jsx)(Nt,{onChange:function(e){return n(e)},autoComplete:"username",name:"username",placeholder:"Id",ref:i,className:o.authError&&"error"}),Object(E.jsx)(Nt,{onChange:function(e){return n(e)},type:"password",autoComplete:"new-password",name:"password",placeholder:"password",ref:s,className:o.authError&&"error"}),"register"===t&&Object(E.jsx)(Nt,{onChange:function(e){return n(e)},autoComplete:"new-password",name:"passwordConfirm",placeholder:"passwordConfirm",type:"password"}),o.authError&&Object(E.jsx)(Lt,{children:o.authError}),Object(E.jsx)(Dt,{cyan:!0,fullWidth:!0,children:a})]}),Object(E.jsx)(zt,{children:"login"===t?Object(E.jsx)(At.a,{to:"/register",children:"Go to Register"}):Object(E.jsx)(At.a,{to:"/login",children:"Go To Login"})})]})},Ut=n(103),Ft=new(n.n(Ut).a)({allErrors:!0}),Ht={properties:{username:{type:"string",pattern:"^[a-zA-Z0-9]{4,16}$"}},required:["username"]},qt={properties:{password:{type:"string",pattern:"^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,32}$"}},required:["password"]},Jt=function(e,t){var n=Ft.compile(e);return n(t)?Object(O.a)(Object(O.a)({},n),{},{isValid:!0}):Object(O.a)(Object(O.a)({},n.errors),{},{isValid:!1})},Vt=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.auth})),n=Object(v.c)((function(e){return e.loading})),r=(Object(l.useRef)(),Object(l.useRef)(),t.authorized),a=t.username,o=t.password;return Object(l.useEffect)((function(){var t=function(e){try{return localStorage.getItem(e)||""}catch(t){console.log(t)}}("username");t&&e(ve(t))}),[]),Object(l.useEffect)((function(){!r||n["auth/CHECK"]||n["auth/LOGIN"]||(Me("username",JSON.stringify(a)),x.push("/postListPage"))}),[r,n["auth/CHECK"],n["auth/LOGIN"]]),Object(E.jsx)(Wt,{authType:"login",onChange:function(n){var r=n.target,a=r.value,o=r.name;e(Oe(Object(O.a)(Object(O.a)({},t),{},Object(S.a)({},o,a))))},onSubmit:function(n){(n.preventDefault(),Jt(Ht,{username:a}).isValid)?Jt(qt,{password:o}).isValid?e(ge({username:a,password:o})):e(Oe(Object(O.a)(Object(O.a)({},t),{},{authError:"[PW] Password with at least 1 number, 1 alphabet, 1 special character! (8~32)."}))):e(Oe(Object(O.a)(Object(O.a)({},t),{},{authError:"[ID] ID should consists of number and alphabet (4 ~ 16)."})))}})},Bt=function(){return Object(E.jsx)(_t,{children:Object(E.jsx)(Vt,{})})},Kt=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.auth})),n=Object(v.c)((function(e){return e.loading})),r=t.authorized,a=t.username,o=t.password,c=t.passwordConfirm;return Object(l.useEffect)((function(){r||n["auth/CHECK"]||$e("username"),!r||n["auth/CHECK"]||n["auth/REGISTER"]||(Me("username",JSON.stringify(a)),x.push("/postListPage"))}),[]),Object(l.useEffect)((function(){r&&!n["auth/REGISTER"]&&(Me("username",JSON.stringify(a)),x.push("/postListPage"))}),[n["auth/REGISTER"]]),Object(E.jsx)(Wt,{authType:"register",onChange:function(n){var r=n.target,a=r.value,o=r.name;e(Oe(Object(O.a)(Object(O.a)({},t),{},Object(S.a)({},o,a))))},onSubmit:function(n){(n.preventDefault(),o===c)?Jt(Ht,{username:a}).isValid?Jt(qt,{password:o}).isValid?e(me({username:a,password:o})):e(Oe(Object(O.a)(Object(O.a)({},t),{},{authError:"[PW] Password with at least 1 number, 1 alphabet, 1 special character! (8~32)."}))):e(Oe(Object(O.a)(Object(O.a)({},t),{},{authError:"[ID] ID should consists of number and alphabet (4 ~ 16)."}))):e(Oe(Object(O.a)(Object(O.a)({},t),{},{authError:"[PW] Passwords are not same."})))}})},Mt=function(){return Object(E.jsx)(_t,{children:Object(E.jsx)(Kt,{})})},$t=n(104),Zt=n.n($t),Yt=(n(273),n(274),w.b.div(qe||(qe=Object(m.a)(["\n    padding-top:5rem;\n    padding-bottom:5rem;\n    margin: 1rem 4rem;\n    \n .ql-container {\n  border-bottom-left-radius: 0.5em;\n  border-bottom-right-radius: 0.5em;\n  background: #fefcfc;\n}\n.ql-snow.ql-toolbar {\n  display: block;\n  background: #eaecec;\n  border-top-left-radius: 0.5em;\n  border-top-right-radius: 0.5em;\n}\n\n .ql-bubble .ql-editor {\n  border: 1px solid #ccc;\n  border-radius: 0.5em;\n}\n .ql-editor {\n  min-height: 18em;\n}\n\n.themeSwitcher {\n  margin-top: 0.5em;\n  font-size: small;\n}\n"])))),Qt=w.b.input(Je||(Je=Object(m.a)(["\n    font-size:3rem;\n    outline:none;\n    padding-bottom:0.5rem;\n    border:none;\n    border-bottom:1px solid ",";\n    margin-bottom:2rem;\n    width:100%;\n"])),y.gray[4]),Xt=(w.b.div(Ve||(Ve=Object(m.a)(["\n    margin:1rem;\n    margin-left:0;\n    display:flex;\n    justify-content:space-between;\n"]))),{theme:"snow",placeholder:"write here...",modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]],clipboard:{matchVisual:!1}},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"]}),en=function(){var e=Object(v.b)(),t=Object(l.useState)(!1),n=Object(f.a)(t,2),r=n[0],a=n[1],o=Object(v.c)((function(e){return e.write})),c=Object(v.c)((function(e){return e.loading})),i=o.title,s=o.contents,u=o.tags,b=o._id,d=Object(l.useState)({title:"",contents:"",theme:"snow"}),j=Object(f.a)(d,2),p=j[0],h=j[1];return Object(l.useLayoutEffect)((function(){!r||c["write/WRITE_POST"]||c["write/UPDATE_POST"]||x.push("/postListPage")}),[c["write/WRITE_POST"],c["write/UPDATE_POST"],r]),Object(E.jsxs)(Yt,{children:[Object(E.jsx)(C,{cyan:!0,fullWidth:!1,onClickFunction:function(){e(b?gt({_id:b,title:i,contents:s}):mt({title:i,contents:s,tags:u})),a(!0)},children:"Back to lists"}),Object(E.jsx)(Qt,{onChange:function(t){return function(t){var n=t.target,r=(n.name,n.value);e(ft(Object(O.a)(Object(O.a)({},o),{},{title:r})))}(t)},name:"title",placeholder:"Write a title here",value:o.title}),Object(E.jsx)(Zt.a,{onChange:function(t){return n=t,void e(ft(Object(O.a)(Object(O.a)({},o),{},{contents:n})));var n},theme:p.theme,modules:Xt.modules,formats:Xt.formats,placeholder:Xt.placeholder,value:o.contents}),Object(E.jsxs)("div",{className:"themeSwitcher",children:[Object(E.jsx)("label",{children:"Theme "}),Object(E.jsxs)("select",{onChange:function(e){return function(e){e.preventDefault(),h(Object(O.a)(Object(O.a)({},p),{},{theme:e.target.value}))}(e)},children:[Object(E.jsx)("option",{value:"snow",children:"Snow"}),Object(E.jsx)("option",{value:"bubble",children:"Bubble"})]})]})]})},tn=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(en,{})})};var nn=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)(p.a,{path:["/","/login"],component:Bt,exact:!0}),Object(E.jsx)(p.a,{path:"/register",component:Mt,exact:!0}),Object(E.jsx)(p.a,{path:"/postListPage",component:kt,exact:!0}),Object(E.jsx)(p.a,{path:"/write",component:tn,exact:!0})]})},rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,278)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},an=n(17),on=n(105),cn=n(42),sn=n(106),un=n(107),ln={key:"root",storage:n.n(un).a,whiteList:["auth","loading","write"]},bn=Object(an.c)({auth:Ke,loading:R,write:xt}),dn=Object(cn.a)(ln,bn),jn=Object(an.d)(dn,Object(an.a)(on.a));console.log(navigator.language);var pn=Object(cn.b)(jn);function hn(){return(hn=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("username")){e.next=4;break}return e.abrupt("return");case 4:return jn.dispatch({type:$,payload:t}),e.next=7,ve((function(){}));case 7:jn.getState().auth.checkError&&localStorage.removeItem("username"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){hn.apply(this,arguments)}(),j.a.render(Object(E.jsx)(b.a.StrictMode,{children:Object(E.jsx)(v.a,{store:jn,children:Object(E.jsx)(sn.a,{persistor:pn,children:Object(E.jsx)(p.b,{history:x,children:Object(E.jsx)(nn,{})})})})}),document.getElementById("root")),rn()}},[[277,1,2]]]);
//# sourceMappingURL=main.7858aad6.chunk.js.map