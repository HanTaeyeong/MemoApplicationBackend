{"version":3,"sources":["lib/styles/palette.ts","components/common/Button.tsx","store/loading.ts","lib/createRequest.ts","store/auth.ts","lib/api/client.ts","lib/api/auth.ts","lib/ErrorCodes.ts","lib/localStorageRequest.ts","components/post/ListHeader.tsx","components/post/PostItem.tsx","components/post/LoadingSpinner.tsx","lib/api/post.ts","store/write.ts","components/post/PostTemplate.tsx","pages/PostListPage.tsx","components/auth/AuthTemplate.tsx","components/auth/AuthForm.tsx","lib/validation.ts","containers/auth/LoginForm.tsx","pages/LoginPage.tsx","containers/auth/RegisterForm.tsx","pages/RegisterPage.tsx","components/write/WriteTemplate.tsx","pages/WritePage.tsx","App.tsx","reportWebVitals.ts","store/index.ts","index.tsx"],"names":["palette","gray","cyan","StyledButton","styled","button","props","fullWidth","css","Button","children","onClickFunction","loadingState","useSelector","loading","isLoading","onClick","className","START_LOADING","FINISH_LOADING","startLoading","createAction","requestType","finishLoading","createReducer","state","action","payload","createRequestThunk","type","request","SUCCESS","FAILURE","params","dispatch","a","response","data","error","toJSON","AuthTypeEnum","createRequestActionTypes","client","axios","create","prefix","login","username","password","post","logout","register","check","get","ErrorCodes","200","440","441","442","500","409","CHANGE_AUTH_TYPE","CHANGE_FIELD","INITIALIZE_FORM","TEMP_SET_USER","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","LOGOUT_SUCCESS","LOGOUT_FAILURE","CHECK","CHECK_SUCCESS","CHECK_FAILURE","changeField","authType","passwordConfirm","authError","initializeForm","registerAsync","authAPI","loginAsync","logoutAsync","checkAsync","initialState","authorized","checkError","auth","message","slice","setItem","itemName","value","localStorage","e","console","log","removeItem","HeaderBlock","div","Header","authState","useDispatch","history","useHistory","useEffect","push","from","PostItemBlock","ItemHead","ItemSubInfo","span","ItemContent","PostItem","_id","title","contents","lastUpdated","onClickItem","idObject","id","JSON","stringify","LoadingSpinner","getPostList","page","limit","INITIALIZE","CHANGE_WRITING_FIELD","FINALIZE_WRITING","WRITE_POST","WRITE_POST_SUCCESS","WRITE_POST_FAILURE","UPDATE_POST","UPDATE_POST_SUCCESS","UPDATE_POST_FAILURE","initialize","finalizeWriting","changeWritingField","tags","writePostAsync","updatePostAsync","patch","write","postError","finishWriting","PostTemplateBlock","SButton","NewMemoButton","NavigationBlock","SelectItems","PageItems","PostTemplate","useState","posts","setPosts","lastPage","totalPostCount","pageState","setPageState","isLoadingList","setIsLoadingList","postApi","res","newPosts","headers","d","_doc","onChangePage","preventDefault","nextPage","currentTarget","name","parse","getList","ListHeader","onChange","nextLimit","target","nextLastPage","disabled","length","map","updatedAt","PostListPage","AuthTemplateBlock","WhiteBox","AuthTemplate","AuthFormBlock","StyledInput","input","ErrorMessage","Footer","ButtonWithMarginTop","textMap","AuthForm","onSubmit","text","autoComplete","placeholder","to","ajv","Ajv","allErrors","IdSchema","PasswordSchema","validate","schema","compile","isValid","errors","LoginForm","localUsername","getItem","LoginPage","RegisterForm","RegisterPage","WriteTemplateBlock","TitleInput","quillOption","theme","modules","toolbar","size","clipboard","matchVisual","formats","WriteTemplate","editorState","setEditorState","onChangeTitle","onChangeSelect","WritePage","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","persistConfig","key","storage","whiteList","rootReducer","combineReducers","persistReducer","store","createStore","applyMiddleware","thunk","navigator","language","persister","persistStore","getState","loadUser","createBrowserHistory","ReactDOM","render","StrictMode","persistor","document","getElementById"],"mappings":"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","file":"static/js/main.f648b162.chunk.js","sourcesContent":["const palette = {\r\n    gray: [\r\n      '#f8f9fa',\r\n      '#f1f3f5',\r\n      '#e9ecef',\r\n      '#dee2e6',\r\n      '#ced4da',\r\n      '#adb5bd',\r\n      '#868e96',\r\n      '#495057',\r\n      '#343a40',\r\n      '#212529',\r\n    ],\r\n    cyan: [\r\n      '#e3fafc',\r\n      '#c5f6fa',\r\n      '#99e9f2',\r\n      '#66d9e8',\r\n      '#3bc9db',\r\n      '#22b8cf',\r\n      '#15aabf',\r\n      '#1098ad',\r\n      '#0c8599',\r\n      '#0b7285',\r\n    ],\r\n  };\r\n  \r\n  export default palette;","import React from 'react'\r\nimport styled, { css } from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\n\r\nimport { RootStateType } from '../../store';\r\nimport { useSelector } from 'react-redux';\r\n\r\ninterface ButtonPropsType {\r\n    cyan: Boolean;\r\n    fullWidth: Boolean;\r\n}\r\n\r\nconst StyledButton = styled.button`\r\n    position:relative;\r\n\r\n    border:none;\r\n    border-radius: 5rem;\r\n    font-size: 1.25rem;\r\n    font-weight: bold;\r\n    padding: 0.25rem 1rem;\r\n    color: white;\r\n    outline: none;\r\n    cursor: pointer;\r\n    box-shadow: 0.25rem 0.25rem 0.5rem 0.2rem rgba(0, 0, 0, 0.1);\r\n    background: ${palette.gray[8]};\r\n    &:hover{\r\n        background: ${palette.gray[6]};\r\n    }\r\n\r\n    ${(props: ButtonPropsType) => props.fullWidth &&\r\n        css`\r\n    padding-top:0.75rem;\r\n    padding-bottom:0.75rem;\r\n    width:100%;\r\n    font-size:1.33rem;\r\n    `}\r\n    \r\n    ${(props: ButtonPropsType) => props.cyan && css`\r\n        background:${palette.cyan[5]};\r\n        &:hover{\r\n            background:${palette.cyan[4]}\r\n        }\r\n    `}\r\n    \r\n        &.loading{\r\n            background:${palette.cyan[1]};\r\n            cursor:not-allowed;\r\n            .text{\r\n            visibility:hidden;\r\n        }\r\n\r\n        &::after{\r\n            content:\"\";\r\n            position:absolute;\r\n            width:1.25rem;\r\n            height:1.25rem;\r\n            border:0.25rem solid transparent;\r\n            border-top-color:${palette.cyan[5]};\r\n            border-radius:50%;\r\n            /* top:50%;\r\n            left:50%;\r\n            transform:translate(-50%,-50%);\r\n             */\r\n             top:0;\r\n             left:0;\r\n             bottom:0;\r\n             right:0;\r\n             margin:auto;\r\n            animation:button-loading-spinner 1s ease infinite;\r\n        }\r\n        }\r\n        \r\n        @keyframes button-loading-spinner{\r\n            from{\r\n                transform:rotate(0turn);\r\n            }\r\n            to{\r\n                transform:rotate(1turn);\r\n            }\r\n        }\r\n`;\r\n\r\ninterface ButtonType {\r\n    children: String;\r\n    cyan: Boolean;\r\n    fullWidth: Boolean;\r\n\r\n    onClickFunction?: Function | undefined;\r\n}\r\n\r\nconst Button = ({ children, cyan, fullWidth, onClickFunction }: ButtonType) => {\r\n\r\n    const loadingState = useSelector(({ loading }: RootStateType) => ({ ...loading }));\r\n    const isLoading = loadingState['auth/LOGIN'] || loadingState['auth/REGISTER'] || loadingState['write/UPDATE_POST'] || loadingState['write/WRITE_POST'];\r\n\r\n    const onClick = () => {\r\n        if (onClickFunction) {\r\n            return onClickFunction();\r\n        } else {\r\n            return () => { }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <StyledButton cyan={cyan} fullWidth={fullWidth}\r\n            onClick={onClick} className={isLoading ? 'loading' : ''}>\r\n            <span className={'text'}>{children}</span>\r\n        </StyledButton>\r\n    )\r\n}\r\n\r\nexport default Button;\r\n","import { createAction, createReducer } from 'typesafe-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING = 'loading/FINISH_LOADING';\r\n\r\nexport const startLoading = createAction(START_LOADING, requestType => requestType)();\r\nexport const finishLoading = createAction(FINISH_LOADING, requestType => requestType)();\r\n\r\nconst initialState = {\r\n    'auth/LOGIN': false,\r\n    'auth/REGISTER': false,\r\n    'auth/LOGOUT': false,\r\n    'auth/CHECK': false,\r\n\r\n    'write/CHANGE_WRITING_FIELD':false,\r\n    'write/WRITE_POST': false,\r\n    'write/GET_POST_LIST': false,\r\n    'write/UPDATE_POST': false,\r\n    'write/DELETE_POST': false\r\n};\r\n\r\nconst loading = createReducer(initialState,\r\n    {\r\n        [START_LOADING]: (state, action) => ({ ...state, [action.payload]: true }),\r\n        [FINISH_LOADING]: (state, action) => ({ ...state, [action.payload]: false }),\r\n    }\r\n)\r\n\r\nexport default loading;","import { startLoading, finishLoading } from '../store/loading';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\n\r\nexport function createRequestThunk(type: string, request: Function) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n\r\n    return (params: any) => async (dispatch: Dispatch<any>) => {\r\n        dispatch({ type });\r\n        dispatch(startLoading(type));\r\n\r\n        try {\r\n            const response = await request(params);\r\n            dispatch({\r\n                type: SUCCESS,\r\n                payload: response.data\r\n            });\r\n        } catch (e) {\r\n\r\n            dispatch({\r\n                type: FAILURE,\r\n                payload: {error:e.toJSON()},\r\n            });\r\n        } finally {\r\n            dispatch(finishLoading(type));\r\n        }\r\n    }\r\n}\r\n\r\nexport const createRequestActionTypes = (type: string) => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n}","import { createAction, ActionType, createReducer, Action } from 'typesafe-actions';\r\nimport { createRequestThunk, createRequestActionTypes } from '../lib/createRequest';\r\nimport * as authAPI from '../lib/api/auth';\r\nimport ErrorCodes from '../lib/ErrorCodes';\r\n\r\nconst CHANGE_AUTH_TYPE = 'auth/CHANGE_AUTH_TYPE';\r\nconst CHANGE_FIELD = 'auth/CHANGE_FIELD';\r\nconst INITIALIZE_FORM = 'auth/INITIALIZE_FORM';\r\n\r\nexport const TEMP_SET_USER = 'auth/TEMP_SET_USER';\r\n\r\nexport const [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] = createRequestActionTypes('auth/REGISTER');\r\nexport const [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequestActionTypes('auth/LOGIN');\r\nexport const [LOGOUT, LOGOUT_SUCCESS, LOGOUT_FAILURE] = createRequestActionTypes('auth/LOGOUT');\r\nexport const [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequestActionTypes('auth/CHECK');\r\n\r\nexport const changeAuthType = createAction(CHANGE_AUTH_TYPE, ({ authType }) => ({ authType }))();\r\n\r\nexport const changeField = createAction(CHANGE_FIELD, ({ authType, username, password, passwordConfirm, authError }) => ({\r\n    authType, username, password, passwordConfirm, authError\r\n}))();\r\nexport const initializeForm = createAction(INITIALIZE_FORM, authType => authType)();\r\nexport const tempSetUser = createAction(TEMP_SET_USER, username => username)();\r\n\r\nexport const register = createAction(REGISTER, ({ username, password }) => ({\r\n    username, password\r\n}))\r\nexport const registerAsync = createRequestThunk(REGISTER, authAPI.register);\r\n\r\nexport const login = createAction(LOGIN, ({ username, password }) => ({\r\n    username, password\r\n}))\r\nexport const loginAsync = createRequestThunk(LOGIN, authAPI.login);\r\n\r\nexport const logout = createAction(LOGOUT, ({ username }) => ({ username }));\r\nexport const logoutAsync = createRequestThunk(LOGOUT, authAPI.logout);\r\n\r\n\r\nexport const check = createAction(CHECK, ({ username }) => ({ username }));\r\nexport const checkAsync = createRequestThunk(CHECK, authAPI.check);\r\n\r\n\r\ninterface AuthMapType {\r\n    [key: string]: Object;\r\n}\r\n\r\nenum AuthTypeEnum {\r\n    'login' = 'login',\r\n    'register' = 'register'\r\n}\r\n\r\ninterface AuthStateType {\r\n    authType: AuthTypeEnum;\r\n    username: string;\r\n    password: string;\r\n    passwordConfirm: string | null | undefined;\r\n    authorized: boolean | null,\r\n    authError: any;\r\n    checkError: any;\r\n}\r\n\r\nconst initialState: AuthStateType = {\r\n    authType: AuthTypeEnum['register'],\r\n    username: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n    authorized: false,\r\n    authError: null,\r\n    checkError: null,\r\n}\r\n\r\nconst auth = createReducer(initialState,\r\n    {\r\n        [TEMP_SET_USER]: (state, { payload: username }) => ({ ...state, username }),\r\n        [CHANGE_AUTH_TYPE]: (state, { payload: { authType } }) => ({ ...state, authType }),\r\n        [CHANGE_FIELD]: (state, { payload: { authType, username, password, passwordConfirm, authError } }) => ({ ...state, authType, username, password, passwordConfirm, authError }),\r\n        [INITIALIZE_FORM]: (state, { payload: { authType } }) => ({ ...initialState }),\r\n\r\n        [REGISTER_SUCCESS]: (state: AuthStateType, { payload: { auth } }: any) => ({ ...state, authorized: true, authError: false }),\r\n        [REGISTER_FAILURE]: (state: AuthStateType, { payload: { error } }: any) => ({ ...state, authorized: false, authError: ErrorCodes[+error.message.slice(-3)] }),\r\n\r\n        [LOGIN_SUCCESS]: (state: AuthStateType, { payload: { username, password } }: any) => ({ ...state, authorized: true, authError: false }),\r\n        [LOGIN_FAILURE]: (state: AuthStateType, { payload: { error } }: any) => ({ ...state, authorized: false, authError: ErrorCodes[+error.message.slice(-3)] }),\r\n\r\n        [CHECK_SUCCESS]: (state: AuthStateType, { payload: username }: any) => ({ ...state, authorized: true, checkError: false }),\r\n        [CHECK_FAILURE]: (state: AuthStateType, { payload: error }: any) => ({ ...state, authorized: false, checkError: error }),\r\n\r\n        [LOGOUT_SUCCESS]: (state: AuthStateType, { payload: username }: any) => ({ ...initialState }),\r\n        [LOGOUT_FAILURE]: (state: AuthStateType, { payload: username }: any) => ({ ...initialState })\r\n    }\r\n)\r\n\r\nexport default auth;","import axios from 'axios';\r\n\r\n//axios.defaults.baseURL = 'https://ec2-52-79-233-83.ap-northeast-2.compute.amazonaws.com:4311/simplememo.com'\r\n\r\n// axios.defaults.baseURL = 'http://localhost:4311';\r\n\r\n\r\n// axios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\r\n// axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\r\nconst client = axios.create();\r\n\r\nexport default client;\r\n","import client from './client';\r\n\r\nconst prefix='/api/auth';\r\n\r\nexport const login = async ({ username, password }: { username: string, password: string }) =>\r\n    await client.post(prefix+'/login', { username, password });\r\n\r\nexport const logout = async () => {\r\n    return await client.post(prefix+'/logout')\r\n};\r\n\r\nexport const register = async ({ username, password }: { username: string, password: string }) =>\r\n    await client.post(prefix+'/register', { username, password })\r\n\r\nexport const check = async () => await client.get(prefix+'/check');\r\n\r\n\r\n","interface ErrorCodesType {\r\n    [key: number]: string\r\n};\r\n\r\nconst ErrorCodes: ErrorCodesType = {\r\n    200: 'okay',\r\n    440: 'Username or Password is empty.',\r\n    441: 'There is no such user.',\r\n    442: 'Invailid password.',\r\n    500: 'Internal server error.',\r\n    409: 'Already existing ID'\r\n}\r\n\r\nexport default ErrorCodes;","export const getItem = (itemName: string) => {\r\n    try {\r\n        const result = localStorage.getItem(itemName);\r\n        return result ? result :'';\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const setItem = (itemName: string, value: string) => {\r\n    try {\r\n        return localStorage.setItem(itemName, value);\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport const removeItem = (itemName: string) => {\r\n    try {\r\n        return localStorage.removeItem(itemName);\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport styled from 'styled-components';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { RootStateType } from '../../store';\r\nimport Button from '../common/Button';\r\nimport { initializeForm, logoutAsync } from '../../store/auth';\r\nimport { removeItem } from '../../lib/localStorageRequest';\r\n\r\nconst HeaderBlock = styled.div`\r\n    width:100%;\r\n    height:4rem;\r\n    \r\n    display:flex;\r\n    align-items:center;\r\n    \r\n    background:white;\r\n    box-shadow:0px 2px 4px rgba(0,0,0,0.08);\r\n    margin-bottom:1rem;\r\n\r\n    justify-content:space-between;\r\n\r\n    .logo{\r\n        font-size:1.125rem;\r\n        font-weight:800;\r\n        letter-spacing:2px;\r\n    }\r\n    .right{\r\n      \r\n    }\r\n`;\r\n\r\nconst Header = () => {\r\n    const authState = useSelector(({ auth, loading }: RootStateType) =>\r\n        ({ username: auth.username, authorized: auth.authorized, loading: { ...loading } }))\r\n    const { authorized, username } = authState;\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const onLogout = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        dispatch(initializeForm);\r\n        removeItem('username');\r\n        dispatch(logoutAsync(''));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!authorized && !username) {\r\n            history.push('/login', { from: 'PostListPage' })\r\n        }\r\n    }, [authorized, username])\r\n\r\n    return (\r\n        <HeaderBlock>\r\n                <span className='logo'>Simple Memo</span>\r\n                <Button cyan={false} fullWidth={false} onClickFunction={ onLogout}>Logout</Button>\r\n        </HeaderBlock>\r\n    )\r\n}\r\n\r\nexport default Header","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { RootStateType } from '../../store';\r\nimport { changeWritingField } from '../../store/write';\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport palette from '../../lib/styles/palette';\r\n\r\nconst PostItemBlock = styled.div`\r\n\r\nmargin-top:0.5rem;\r\nborder-bottom:1px solid ${palette.gray[2]};\r\ncursor:pointer;\r\n`;\r\n\r\nconst ItemHead = styled.div`\r\ndisplay:flex;\r\n\r\nflex-direction:row;\r\njustify-content:space-between;\r\n    \r\n    .title{    \r\n        font-size:1.125rem;\r\n        font-weight:700;\r\n        margin-bottom:0.5rem;\r\n    }\r\n`\r\n\r\nconst ItemSubInfo = styled.span`\r\n    color:${palette.gray[6]};\r\n   \r\n    height:1.5rem;\r\n    span+span:before{\r\n        color:${palette.gray[5]};\r\n        padding-left:0.25rem;\r\n        padding-right:0.25rem;\r\n        content:'\\\\B7';\r\n    }\r\n`\r\nconst ItemContent = styled.div`\r\n    font-size:0.77rem;\r\n    color:${palette.gray[8]};\r\n    margin-bottom:2rem;\r\n    \r\n    `\r\ninterface PostItemType {\r\n    _id: string,\r\n    title: string,\r\n    contents: string,\r\n    lastUpdated: string,\r\n    onClickItem?:Function,\r\n}\r\n\r\n\r\nconst PostItem = ({ _id, title, contents, lastUpdated, onClickItem }: PostItemType) => {\r\n    const idObject={_id,title,contents};\r\n\r\n    return (\r\n        <PostItemBlock id={JSON.stringify(idObject)} title={title} onClick={(e)=>onClickItem?onClickItem(e):{}}>\r\n            <ItemHead>\r\n                <span className=\"title\">{title}</span>\r\n                <ItemSubInfo>\r\n                    <span><b>Last update</b></span>\r\n                    <span>{lastUpdated.slice(0, 10)}</span>\r\n                </ItemSubInfo>\r\n            </ItemHead>\r\n\r\n            <ItemContent>\r\n                {contents}\r\n            </ItemContent>\r\n        </PostItemBlock>\r\n    )\r\n}\r\n\r\nexport default PostItem","import React from 'react'\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\n\r\nconst LoadingSpinner=styled.div`\r\n    position:fixed;\r\n    margin:auto;\r\n    visibility:hidden;\r\n    top:0;\r\n    left:0;\r\n    bottom:0;\r\n    right:0;\r\n    margin:auto;\r\n    width:0;\r\n    height:0;\r\n    background:black;\r\n\r\n    &.loading{\r\n        visibility:visible;\r\n    }\r\n    &::after{\r\n            content:\"\";\r\n            position:absolute;\r\n            width:5rem;\r\n            height:5rem;\r\n            border:0.5rem solid transparent;\r\n            border-top-color:${palette.cyan[5]};\r\n            border-radius:50%;\r\n            /* top:50%;\r\n            left:50%;\r\n            transform:translate(-50%,-50%);\r\n             */\r\n             top:0;\r\n             left:0;\r\n             bottom:0;\r\n             right:0;\r\n             margin:auto;\r\n            animation:button-loading-spinner 1s ease infinite;\r\n        }\r\n        \r\n        @keyframes button-loading-spinner{\r\n            from{\r\n                transform:rotate(0turn);\r\n            }\r\n            to{\r\n                transform:rotate(1turn);\r\n            }\r\n        }\r\n`;\r\n\r\nexport default LoadingSpinner;\r\n","import client from './client';\r\n\r\nconst prefix = '/api/post';\r\n\r\nexport const getPostList = ({ page, limit }: { page: number, limit: number }) => client.get(`${prefix}/get?page=${page}&limit=${limit}`)\r\n\r\nexport const writePost = ({ title, contents, tags }: { title: string, contents: string, tags: string[] | undefined }) =>\r\n    client.post(prefix + '/write', { title, contents, tags });\r\n\r\nexport const readPost = (id: string) =>\r\n    client.get(`${prefix}/read/${id}`);\r\n\r\nexport const deletePost = (id: string) =>\r\n    client.delete(`${prefix}/delete/${id}`);\r\n\r\nexport const updatePost = ({ _id, title, contents, tags }: { _id: string, title: string, contents: string, tags: string[] | undefined }) =>\r\n    client.patch(`${prefix}/update/${_id}`, { title, contents, tags })\r\n","import { createAction, createReducer } from 'typesafe-actions';\r\nimport { createRequestThunk, createRequestActionTypes } from '../lib/createRequest';\r\nimport * as postApi from '../lib/api/post';\r\n\r\nconst INITIALIZE = 'write/INITIALIZE';\r\nconst CHANGE_WRITING_FIELD ='write/CHANGE_WRITING_FIELD';\r\nconst FINALIZE_WRITING = 'write/FINALIZE_WRITING';\r\n\r\n\r\nconst [WRITE_POST, WRITE_POST_SUCCESS, WRITE_POST_FAILURE] = createRequestActionTypes('write/WRITE_POST');\r\nconst [UPDATE_POST, UPDATE_POST_SUCCESS, UPDATE_POST_FAILURE] = createRequestActionTypes('write/UPDATE_POST');\r\n\r\nexport const initialize = createAction(INITIALIZE, action => action)();\r\nexport const finalizeWriting = createAction(FINALIZE_WRITING, action => action)();\r\n\r\nexport const changeWritingField = createAction(CHANGE_WRITING_FIELD, ({ _id, title, contents, tags }) =>\r\n    ({ _id, title, contents, tags }))();\r\n\r\n\r\nexport const writePost = createAction(WRITE_POST, ({ title, contents, tags }) => ({ title, contents, tags }))\r\nexport const writePostAsync = createRequestThunk(WRITE_POST, postApi.writePost);\r\n\r\nexport const updatePost = createAction(UPDATE_POST, ({ _id, title, contents }) => ({ _id, title, contents }));\r\nexport const updatePostAsync = createRequestThunk(UPDATE_POST, postApi.updatePost);\r\n\r\nexport interface WriteType {\r\n    _id: string,\r\n    title: string,\r\n    contents: string,\r\n    tags: string[] | undefined,\r\n    username: string,\r\n\r\n    postError: boolean;\r\n    finishWriting: boolean,\r\n}\r\nconst initialState: WriteType = {\r\n    _id: '',\r\n    title: '',\r\n    contents: '',\r\n    tags: [],\r\n    username: '',\r\n\r\n    postError: false,\r\n    finishWriting: false,\r\n}\r\n\r\n\r\nconst write = createReducer(initialState, {\r\n    [INITIALIZE]: (state, { payload: action }) => ({ ...state, finishWriting: false }),\r\n    [FINALIZE_WRITING]: (state, { payload: action }) => ({ ...state, finishWriting: true }),\r\n\r\n    [CHANGE_WRITING_FIELD]: (state: WriteType, { payload: { _id, title, contents, tags } }:any) => ({ ...state, _id, title, contents, tags }),\r\n  \r\n    [WRITE_POST_SUCCESS]: (state: WriteType) => ({ ...state, postError: false }),\r\n    [WRITE_POST_FAILURE]: (state: WriteType) => ({ ...state, postError: true }),\r\n\r\n    [UPDATE_POST_SUCCESS]: (state: WriteType) => ({ ...state, postError: false }),\r\n    [UPDATE_POST_FAILURE]: (state: WriteType) => ({ ...state, postError: true }),\r\n})\r\n\r\nexport default write;\r\n\r\n\r\n","import React, { useEffect, useLayoutEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport ListHeader from './ListHeader';\r\nimport PostItem from './PostItem';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\nimport palette from '../../lib/styles/palette';\r\n\r\nimport { RootStateType } from '../../store';\r\nimport { initialize, changeWritingField } from '../../store/write';\r\n\r\nimport * as postApi from '../../lib/api/post';\r\n\r\nconst PostTemplateBlock = styled.div`\r\n    width:100%;\r\n    height:100%;\r\n`;\r\n// { children: String,cyan:Boolean,fullWidth:Boolean }\r\n\r\n\r\nconst SButton = styled.button`\r\n    border:none;\r\n    border-radius: 4px;\r\n    font-size: 1rem;\r\n    font-weight: bold;\r\n    padding: 0.25rem 1rem;\r\n    color: white;\r\n    outline: none;\r\n    cursor: pointer;\r\n\r\n    background: ${palette.gray[8]};\r\n    &:hover{\r\n        background: ${palette.gray[6]};\r\n    }\r\n\r\n    &:disabled, \r\n    &.loading\r\n    {\r\n        background:${palette.gray[3]};\r\n        color:${palette.gray[4]};\r\n        cursor:not-allowed;\r\n    }\r\n`;\r\n\r\nconst NewMemoButton = styled.button`\r\n    position:fixed;\r\n    width:3rem;\r\n    height:3rem;\r\n    font-size:3rem;\r\n    right:3rem;\r\n    bottom:3rem;\r\n    border-radius:100%;\r\n    \r\n    display:flex;\r\n    align-items:center;\r\n    justify-content:center;\r\n\r\n    background:${palette.cyan[5]};\r\n    color:white;    \r\n    &:hover{\r\n        background:${palette.cyan[4]}\r\n    }\r\n`;\r\n\r\n\r\nconst NavigationBlock = styled.div`\r\n    display:flex;\r\n    justify-content:space-between;\r\n    margin-bottom:1rem;\r\n`;\r\nconst SelectItems = styled.div`\r\n    select{\r\n        margin-right:0.33rem;\r\n    }\r\n`;\r\nconst PageItems = styled.div`\r\n    button{\r\n        margin-right:0.33rem;\r\n    }\r\n`;\r\n\r\nconst NewMemoBlock = styled.div`\r\n    display: flex;\r\n    justify-content:flex-end;\r\n    margin-bottom:1rem;\r\n`\r\n\r\ninterface ItemType {\r\n    _id: string,\r\n    title: string,\r\n    contents: string,\r\n}\r\n\r\nconst PostTemplate = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const loading = useSelector(({ loading }: RootStateType) => loading)\r\n    const write = useSelector(({ write }: RootStateType) => write)\r\n    const [posts, setPosts] = useState<any[]>([]);\r\n    const [pageState, setPageState] = useState({ page: 1, limit: 10, lastPage: 1, totalPostCount: 0 });\r\n    const [isLoadingList, setIsLoadingList] = useState(false);\r\n\r\n    async function getList() {\r\n        const { page, limit } = pageState;\r\n        setIsLoadingList(true);\r\n        const res = await postApi.getPostList({ page, limit });\r\n        const newPosts = [];\r\n\r\n        setPageState({\r\n            ...pageState,\r\n            lastPage: +res.headers['last-page'],\r\n            totalPostCount: +res.headers['total-post-count']\r\n        })\r\n\r\n        for (const d of res.data) {\r\n            newPosts.push({ ...d._doc })\r\n        }\r\n\r\n        setPosts(newPosts);\r\n        setIsLoadingList(false);\r\n    }\r\n\r\n    const onChangeSelect = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        e.preventDefault();\r\n        const { page, limit, totalPostCount, lastPage } = pageState;\r\n\r\n        const nextLimit = +e.target.value;\r\n        const nextLastPage = ((totalPostCount / nextLimit) | 0) + 1;\r\n\r\n        setPageState({ ...pageState, page: 1, limit: nextLimit, lastPage: nextLastPage })\r\n    }\r\n\r\n    const onChangePage = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.preventDefault();\r\n        let nextPage = pageState.page + (+e.currentTarget.name);\r\n\r\n        if (nextPage < 1) {\r\n            nextPage = 1;\r\n        }\r\n        if (nextPage > pageState.lastPage) {\r\n            nextPage = pageState.lastPage;\r\n        }\r\n\r\n        setPageState({ ...pageState, page: nextPage });\r\n    };\r\n\r\n    const onClickItem = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n        e.preventDefault();\r\n        const { _id, title, contents } = JSON.parse(e.currentTarget.id);\r\n\r\n        dispatch(changeWritingField({ ...write, _id, title, contents }));\r\n        history.push('/write', { from: '/postListPage' });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!isLoadingList) {\r\n            getList();\r\n        }\r\n    }, [pageState.page, pageState.limit])\r\n\r\n    const moveToWrite = () => {\r\n        dispatch(initialize(''));\r\n        dispatch(changeWritingField({ _id: \"\", title: \"\", contents: \"\", tags: [] }))\r\n        history.push('/write', { from: '/postListPage' });\r\n    }\r\n\r\n    return (\r\n        <PostTemplateBlock>\r\n            <ListHeader />\r\n            <NavigationBlock>\r\n                <SelectItems>\r\n                    <select name=\"limits\" onChange={onChangeSelect} >\r\n                        <option value=\"10\">10</option>\r\n                        <option value=\"20\">20</option>\r\n                        <option value=\"50\">50</option>\r\n                        <option value=\"100\">100</option>\r\n                    </select>\r\n                    <span>{pageState.totalPostCount} total posts</span>\r\n                </SelectItems>\r\n                <PageItems>\r\n                    <SButton onClick={onChangePage} name=\"-1\" disabled={pageState.page === 1} className={isLoadingList ? 'loading' : ''}>before</SButton>\r\n                    <SButton onClick={onChangePage} name='1' disabled={pageState.page === pageState.lastPage} className={isLoadingList ? 'loading' : ''}>next</SButton>\r\n                    <span>{pageState.page}/{pageState.lastPage} page</span>\r\n                </PageItems>\r\n            </NavigationBlock>\r\n            <LoadingSpinner className={isLoadingList ? 'loading' : ''} />\r\n            {posts.length ? posts.map((post) =>\r\n                <PostItem key={post._id} _id={post._id} title={post.title} contents={post.contents} lastUpdated={post.updatedAt} onClickItem={onClickItem} />\r\n            ) : <div>Write a new memo...</div>}\r\n\r\n            <NewMemoButton onClick={moveToWrite}>+</NewMemoButton>\r\n        </PostTemplateBlock>\r\n    )\r\n}\r\n\r\nexport default PostTemplate","import React from 'react'\r\nimport PostTemplate from '../components/post/PostTemplate';\r\n\r\nconst PostListPage = () => {\r\n    return (\r\n        <div>\r\n            <PostTemplate/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostListPage\r\n","import React from 'react'\r\nimport styled from 'styled-components';\r\n\r\nconst AuthTemplateBlock = styled.div`\r\n    position:absolute;\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content:center;\r\n    align-items:center;\r\n    padding-left:1.5rem;\r\n    padding-right:1.5rem;\r\n`;\r\n\r\nconst WhiteBox = styled.div`\r\n    .logo-area{\r\n        display:block;\r\n        text-align:center;\r\n        font-weight:bold;\r\n        letter-spacing:2px;\r\n    }\r\n    font-size:2rem;\r\n    box-shadow: 0 0 8px rgba(0,0,0,0.025);\r\n    padding: 2rem;\r\n    width:360px;\r\n    border-radius:2px;\r\n`;\r\n\r\nconst AuthTemplate = ({children}:{children:JSX.Element}) => {\r\n    return (\r\n        <AuthTemplateBlock>\r\n            <WhiteBox>\r\n                <div className=\"logo-area\">\r\n                    Simple Memo\r\n                </div>\r\n            </WhiteBox>\r\n            {children}\r\n        </AuthTemplateBlock>\r\n    )\r\n}\r\n\r\nexport default AuthTemplate\r\n","import React,{useEffect} from 'react'\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport {useSelector,useDispatch} from 'react-redux';\r\n\r\nimport {RootStateType} from '../../store';\r\nimport {changeField} from '../../store/auth';\r\n\r\nimport palette from '../../lib/styles/palette';\r\nimport Button from '../common/Button';\r\n\r\nconst AuthFormBlock = styled.div`\r\n    h3{\r\n        margin-left:1rem;\r\n        margin-bottom:1rem;\r\n        color:${palette.gray[8]};\r\n    }\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n    font-size:1rem;\r\n    border:1px solid ${palette.gray[5]};\r\n    border-radius:50px;\r\n\r\n    padding:0.5rem;\r\n    padding-left:1rem;\r\n    outline:none;\r\n    width:100%;\r\n    margin-bottom: 1rem;\r\n\r\n    :focus{\r\n        color:$oc-teal-7;\r\n        border:1px solid ${palette.cyan[5]};\r\n    }\r\n`\r\nconst ErrorMessage = styled.div`\r\nwidth:100%;\r\n    margin:0 auto;\r\n    color:red;\r\ntext-align:center;\r\nmargin-bottom:1rem;\r\n`;\r\n\r\nconst Footer = styled.div`\r\n    margin-top:2rem;\r\n    text-align:right;\r\n    a{\r\n        color:${palette.gray[6]};\r\n        text-decoration:underline;\r\n        &:hover{\r\n            color:${palette.gray[9]}\r\n        }\r\n    }\r\n`\r\nconst ButtonWithMarginTop = styled(Button)`\r\n    margin-top:1rem;\r\n`;\r\n\r\ninterface MapType {\r\n    [key: string]: string\r\n}\r\n\r\nconst textMap: MapType = {\r\n    \"login\": 'Login',\r\n    \"register\": 'Register'\r\n}\r\n\r\nconst AuthForm = ({ authType, onChange, onSubmit }: { authType: string, onChange: Function, onSubmit: Function }) => {\r\n    const text = textMap[authType];\r\n    const auth= useSelector(({auth}:RootStateType) => auth);\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(()=>{\r\n        dispatch(changeField({authError:''}));\r\n    },[])\r\n    \r\n    return (\r\n        <AuthFormBlock>\r\n            <h3>{text}</h3>\r\n            <form onSubmit={(e) => onSubmit(e)}>\r\n                <StyledInput onChange={(e) => onChange(e)} autoComplete=\"username\" name=\"username\" placeholder=\"Id\" />\r\n                <StyledInput onChange={(e) => onChange(e)} type=\"password\" autoComplete=\"new-password\" name=\"password\" placeholder=\"password\" />\r\n                {authType === 'register' && (<StyledInput onChange={(e) => onChange(e)} autoComplete=\"new-password\" name=\"passwordConfirm\" placeholder=\"passwordConfirm\" type=\"password\" />)}\r\n                \r\n                {auth.authError&&<ErrorMessage>{auth.authError}</ErrorMessage>}\r\n            \r\n                <ButtonWithMarginTop cyan fullWidth >{text}</ButtonWithMarginTop>\r\n            </form>\r\n            \r\n            <Footer>\r\n                {authType === 'login' ? (\r\n                    <Link to='/register'>Go to Register</Link>\r\n                ) : (<Link to=\"/login\">Go To Login</Link>)}\r\n            </Footer>\r\n        </AuthFormBlock>\r\n    )\r\n}\r\n\r\nexport default AuthForm\r\n","import Ajv from 'ajv';\r\n\r\nconst ajv = new Ajv({ allErrors: true });\r\n\r\n//Minimum eight characters, at least one letter, one number and one special character:\r\n//js new Regex(is not the same with \\d \\\\d);\r\n//number, integer, string, boolean, array, object or null\r\n\r\n// export const userSchema = {\r\n//     \"properties\": {\r\n//         \"username\": {\r\n//             \"type\": 'string',\r\n//             \"pattern\": '^[a-zA-Z0-9]{4,16}$'\r\n//         },\r\n//         \"password\": {\r\n//             \"type\": 'string',\r\n//             \"pattern\": '^(?=.*[A-Za-z])(?=.*\\\\d)(?=.*[@$!%*#?&])[A-Za-z\\\\d@$!%*#?&]{8,32}$'\r\n//         }\r\n//     },\r\n//     \"required\": ['username', 'password']\r\n// }\r\n\r\nexport const IdSchema = {\r\n    \"properties\": {\r\n        \"username\": {\r\n            \"type\": 'string',\r\n            \"pattern\": '^[a-zA-Z0-9]{4,16}$'\r\n        }\r\n    },\r\n    \"required\": ['username']\r\n}\r\n\r\nexport const PasswordSchema = {\r\n    \"properties\": {\r\n        \"password\": {\r\n            \"type\": 'string',\r\n            \"pattern\": '^(?=.*[A-Za-z])(?=.*\\\\d)(?=.*[@$!%*#?&])[A-Za-z\\\\d@$!%*#?&]{8,32}$'\r\n        }\r\n    },\r\n    \"required\": ['password']\r\n}\r\n\r\nexport const validate = (schema: Object, data: Object) => {\r\n    const validate = ajv.compile(schema);\r\n    const valid = validate(data);\r\n\r\n    if (!valid) {\r\n        return { ...validate.errors, isValid: false };\r\n    }\r\n    return { ...validate, isValid: true }\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { RootStateType } from '../../store';\r\nimport { changeField, checkAsync, loginAsync } from '../../store/auth';\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { validate, IdSchema, PasswordSchema } from '../../lib/validation';\r\nimport { setItem, removeItem, getItem } from '../../lib/localStorageRequest';\r\n\r\nconst LoginForm = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const auth = useSelector(({ auth }: RootStateType) => auth);\r\n    const loading = useSelector(({ loading }: RootStateType) => loading);\r\n\r\n    const { authorized, username, password } = auth;\r\n\r\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                ...auth,\r\n                [name]: value\r\n            })\r\n        )\r\n    }\r\n\r\n    const onSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        const idResult = validate(IdSchema, { username })\r\n        if (!idResult.isValid) {\r\n            dispatch(\r\n                changeField({\r\n                    ...auth,\r\n                    authError: 'ID should consists of number and alphabet (4 ~ 16).'\r\n                })\r\n            )\r\n            return;\r\n        }\r\n\r\n        const passwordResult= validate (PasswordSchema, {password});\r\n        if (!passwordResult.isValid) {\r\n            dispatch(\r\n                changeField({\r\n                    ...auth,\r\n                    authError: 'Password with at least 1 number, 1 alphabet, 1 special character! (8~32).'\r\n                })\r\n            )\r\n            return;\r\n        }\r\n\r\n        dispatch(loginAsync({ username, password }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const localUsername = getItem('username');\r\n        if (localUsername) {\r\n            dispatch(checkAsync(localUsername));\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (authorized && !loading['auth/CHECK'] && !loading['auth/LOGIN']) {\r\n            setItem('username', JSON.stringify(username));\r\n            history.push('/postListPage', { from: '/login' });\r\n        }\r\n    }, [authorized, loading['auth/CHECK'], loading['auth/LOGIN']])\r\n\r\n    return (\r\n        <AuthForm authType=\"login\" onChange={onChange} onSubmit={onSubmit} />\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n","import React from 'react'\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\nimport LoginForm from '../containers/auth/LoginForm';\r\n\r\nconst LoginPage = () => {\r\n    \r\n    return (\r\n        <AuthTemplate>\r\n            <LoginForm/>\r\n        </AuthTemplate>\r\n    )\r\n}\r\n\r\nexport default LoginPage","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { RootStateType } from '../../store';\r\nimport { changeField, registerAsync } from '../../store/auth';\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { validate, IdSchema, PasswordSchema } from '../../lib/validation';\r\nimport { setItem, removeItem } from '../../lib/localStorageRequest';\r\n\r\nconst RegisterForm = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const auth = useSelector(({ auth }: RootStateType) => auth);\r\n    const loading = useSelector(({ loading }: RootStateType) => loading);\r\n\r\n    const { authorized, username, password, passwordConfirm } = auth;\r\n\r\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                ...auth,\r\n                [name]: value\r\n            })\r\n        )\r\n    }\r\n\r\n    const onSubmit = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        e.preventDefault();\r\n        if (password !== passwordConfirm) {\r\n            dispatch(changeField({\r\n                ...auth, authError: 'Passwords are not same.'\r\n            }))\r\n            return;\r\n        }\r\n\r\n        const idResult = validate(IdSchema, { username })\r\n        if (!idResult.isValid) {\r\n            dispatch(\r\n                changeField({\r\n                    ...auth,\r\n                    authError: 'ID should consists of number and alphabet (4 ~ 16).'\r\n                })\r\n            )\r\n            return;\r\n        }\r\n\r\n        const passwordResult = validate(PasswordSchema, { password });\r\n        if (!passwordResult.isValid) {\r\n            dispatch(\r\n                changeField({\r\n                    ...auth,\r\n                    authError: 'Password with at least 1 number, 1 alphabet, 1 special character! (8~32).'\r\n                })\r\n            )\r\n            return;\r\n        }\r\n\r\n        dispatch(registerAsync({ username, password }))\r\n    }\r\n\r\n    const checkAuthState = () => {\r\n        if (!authorized && !loading['auth/CHECK']) {\r\n            removeItem('username');\r\n        }\r\n        if (authorized && !loading['auth/CHECK'] && !loading['auth/REGISTER']) {\r\n            setItem('username', JSON.stringify(username));\r\n            history.push('/postListPage', { from: '/login' });\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        checkAuthState();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (authorized && !loading['auth/REGISTER']) {\r\n            setItem('username', JSON.stringify(username));\r\n            history.push('/postListPage', { from: '/login' });\r\n        }\r\n    }, [loading['auth/REGISTER']])\r\n\r\n    return (\r\n        <AuthForm authType=\"register\" onChange={onChange} onSubmit={onSubmit} />\r\n    )\r\n}\r\n\r\nexport default RegisterForm;\r\n","import React from 'react'\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\nimport RegisterForm from '../containers/auth/RegisterForm';\r\n\r\n\r\n\r\nconst RegisterPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <RegisterForm/>\r\n        </AuthTemplate>\r\n    )\r\n}\r\n\r\nexport default RegisterPage\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport 'react-quill/dist/quill.bubble.css';\r\n\r\nimport palette from '../../lib/styles/palette';\r\n\r\nimport Button from '../common/Button';\r\n\r\nimport { writePostAsync, changeWritingField, finalizeWriting, initialize, updatePostAsync } from '../../store/write';\r\nimport { RootStateType } from '../../store';\r\n\r\n\r\n\r\n// import useInterval from '../../lib/hook/useInterval';\r\n\r\nconst WriteTemplateBlock = styled.div`\r\n    padding-top:5rem;\r\n    padding-bottom:5rem;\r\n    margin: 1rem 4rem;\r\n    \r\n .ql-container {\r\n  border-bottom-left-radius: 0.5em;\r\n  border-bottom-right-radius: 0.5em;\r\n  background: #fefcfc;\r\n}\r\n.ql-snow.ql-toolbar {\r\n  display: block;\r\n  background: #eaecec;\r\n  border-top-left-radius: 0.5em;\r\n  border-top-right-radius: 0.5em;\r\n}\r\n\r\n .ql-bubble .ql-editor {\r\n  border: 1px solid #ccc;\r\n  border-radius: 0.5em;\r\n}\r\n .ql-editor {\r\n  min-height: 18em;\r\n}\r\n\r\n.themeSwitcher {\r\n  margin-top: 0.5em;\r\n  font-size: small;\r\n}\r\n`;\r\n\r\nconst TitleInput = styled.input`\r\n    font-size:3rem;\r\n    outline:none;\r\n    padding-bottom:0.5rem;\r\n    border:none;\r\n    border-bottom:1px solid ${palette.gray[4]};\r\n    margin-bottom:2rem;\r\n    width:100%;\r\n`;\r\nconst ButtonWrapper = styled.div`\r\n    margin:1rem;\r\n    margin-left:0;\r\n    display:flex;\r\n    justify-content:space-between;\r\n`;\r\n\r\nconst quillOption = {\r\n    theme: 'snow',\r\n    placeholder: 'write here...',\r\n    modules: {\r\n        toolbar: [\r\n            [{ 'header': '1' }, { 'header': '2' }, { 'font': [] }],\r\n            [{ size: [] }],\r\n            ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n            [{ 'list': 'ordered' }, { 'list': 'bullet' },\r\n            { 'indent': '-1' }, { 'indent': '+1' }],\r\n            //['link', 'image', 'video'],\r\n            ['clean']\r\n        ],\r\n        clipboard: {\r\n            // toggle to add extra line breaks when pasting HTML:\r\n            matchVisual: false,\r\n        }\r\n    },\r\n    formats: [\r\n        'header', 'font', 'size',\r\n        'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n        'list', 'bullet', 'indent',\r\n        'link', 'image', 'video'\r\n    ]\r\n}\r\n\r\nconst WriteTemplate = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const write = useSelector(({ write }: RootStateType) => write);\r\n    const loading = useSelector(({ loading }: RootStateType) => loading);\r\n\r\n    const { title, contents, tags, finishWriting, _id } =write;\r\n\r\n    const [editorState, setEditorState] = useState({ title: '', contents: '', theme: 'snow' });\r\n\r\n    const onChangeTitle = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        dispatch(changeWritingField({ ...write, title: value }));\r\n    }\r\n\r\n    const onChangeContents = (text: string) => {\r\n        dispatch(changeWritingField({ ...write, contents: text }));\r\n    }\r\n\r\n    const onChangeSelect = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        e.preventDefault();\r\n        setEditorState({ ...editorState, theme: e.target.value })\r\n    }\r\n\r\n    const onGoingBack = () => {\r\n        dispatch(finalizeWriting(''));\r\n        if (!_id) { dispatch(writePostAsync({ title, contents, tags })) }\r\n        else {\r\n            dispatch(updatePostAsync({ _id, title, contents }))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(initialize(''))\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (finishWriting && !loading['write/WRITE_POST'] && !loading['write/UPDATE_POST']) {\r\n            history.push('/postListPage', { from: '/write' });\r\n        }\r\n    }, [loading['write/WRITE_POST'], loading['write/UPDATE_POST'], finishWriting])\r\n\r\n    return (\r\n        <WriteTemplateBlock>\r\n\r\n            <Button cyan={true} fullWidth={false} onClickFunction={onGoingBack}>Back to lists</Button>\r\n            <TitleInput onChange={e => onChangeTitle(e)} name='title'\r\n                placeholder=\"Write a title here\" value={write.title} />\r\n            <ReactQuill\r\n                onChange={e => onChangeContents(e)}\r\n                theme={editorState.theme}\r\n                modules={quillOption.modules}\r\n                formats={quillOption.formats}\r\n                placeholder={quillOption.placeholder}\r\n                value={write.contents}\r\n            />\r\n            <div className=\"themeSwitcher\">\r\n                <label>Theme </label>\r\n                <select onChange={(e) =>\r\n                    onChangeSelect(e)}>\r\n                    <option value=\"snow\">Snow</option>\r\n                    <option value=\"bubble\">Bubble</option>\r\n                </select>\r\n            </div>\r\n        </WriteTemplateBlock>\r\n    )\r\n}\r\n\r\nexport default WriteTemplate;","import React from 'react'\r\nimport WriteTemplate from '../components/write/WriteTemplate';\r\n\r\n\r\nconst WritePage = () => {\r\n    return (\r\n        <div>\r\n            <WriteTemplate/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WritePage","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport PostListPage from './pages/PostListPage';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport WritePage from './pages/WritePage';\n\nfunction App() {\n  return (\n    <div>\n      <Route path={[\"/\",\"/login\"]} component={LoginPage} exact/>\n      <Route path=\"/register\" component={RegisterPage} exact/>\n      <Route path='/postListPage' component={PostListPage} exact />\n      <Route path=\"/write\" component={WritePage} exact/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\n\r\nimport auth from './auth';\r\nimport loading from './loading';\r\nimport write from './write';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whiteList: ['auth', 'loading', 'write']\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    auth, loading, write\r\n})\r\n\r\nexport type RootStateType = ReturnType<typeof rootReducer>;\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport rootReducer from './store';\nimport { tempSetUser, checkAsync, TEMP_SET_USER } from './store/auth';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nconsole.log(navigator.language);\n\nconst persister = persistStore(store);\n\nasync function loadUser() {\n  try {\n    const username = localStorage.getItem('username');\n    if (!username) return;\n\n    store.dispatch({ type: TEMP_SET_USER, payload: username });\n    await checkAsync(() => { });\n\n    if (store.getState().auth.checkError) {\n      localStorage.removeItem('username');\n    }\n  } catch (e) { console.log(e) }\n}\n\nloadUser();\n\nconst history = createBrowserHistory();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate persistor={persister}>\n        <Router history={history} >\n          <App />\n        </Router>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}